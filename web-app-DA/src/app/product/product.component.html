<div class="product-rating">
<div>
  <h1 class="title">Các sản phẩm nổi bật</h1>
</div>
  <div class="container1 mt-3">
    <mat-grid-list class="view-project" cols="5" rowHeight="2:3" gutterSize="5">
      <mat-grid-tile *ngFor="let p of productR" class="grid-tile">
        <div class="row home-page-product-image">
          <div class="product-image">
            <img src="{{p.image}}">
          </div>
          <div class="name-product mt-5">
            <p><b>{{p.name}}</b></p>
          </div>
          <div class="star rating-star">
            <star-rating class="rating" [value]="p.star" uncheckedcolor="black" size="20px" [readonly]="false"></star-rating>
          </div>
          <div class="product-price">
            <p class="product-price-start">{{formatPrice(p.price)}}đ</p>
            <p><b>{{formatPrice(p.lastprice)}}đ</b></p>
          </div>
          <div class="button-show">
            <button mat-raised-button color="warn" style="margin-bottom: 20px" (click)="showProductDetails(p.id)">Chi tiết</button>
          </div>
        </div>
      </mat-grid-tile>
    </mat-grid-list>
  </div>
</div>

<mat-divider></mat-divider>
<div class="product-rating">
  <div>
    <h1 class="title">Tất cả các sản phẩm</h1>
  </div>
  <div class="home-search">
    <mat-form-field class="input1" style="width: 450px" appearance="outline">
      <mat-label>Tím kiếm</mat-label>
      <input class="input" #searchKeyword
             (keyup.enter)="getData(searchKeyword.value,startprice,endprice)"
             name="search" matInput>
      <mat-icon (click)="getData(searchKeyword.value,startprice,endprice)" disabled matSuffix>search</mat-icon>
    </mat-form-field>
    <button class="button" [matMenuTriggerFor]="menu" style="background-color: #eadfdf" mat-raised-button><span>Tìm kiếm theo giá</span><mat-icon>keyboard_arrow_down</mat-icon></button>
    <mat-menu #menu="matMenu" class="exit">
      <button mat-menu-item (click)="getData(searchKeyword.value,startprice = 0, endprice = 1000000)">
        Giá từ 0đ - 1.000.000đ
      </button>
      <mat-divider class="text-border"></mat-divider>
      <button mat-menu-item (click)="getData(searchKeyword.value,startprice = 1000000, endprice = 2000000)">
        Giá từ 1.000.000đ - 2.000.000đ
      </button>
      <mat-divider class="text-border"></mat-divider>
      <button mat-menu-item (click)="getData(searchKeyword.value,startprice = 2000000, endprice = 3000000)">
        Giá từ 2.000.000đ - 3.000.000đ
      </button>
      <mat-divider class="text-border"></mat-divider>
      <button mat-menu-item (click)="getData(searchKeyword.value,startprice = 3000000, endprice = 5000000)">
        Giá từ 3.000.000đ - 5.000.000đ
      </button>
      <mat-divider class="text-border"></mat-divider>
      <button mat-menu-item (click)="getData(searchKeyword.value,startprice = 5000000, endprice = 10000000)">
        Giá từ 5.000.000đ - 10.000.000đ
      </button>
    </mat-menu>
  </div>
<div class="container1 mt-1">
  <mat-grid-list class="view-project"  cols="5"  rowHeight="2:3" gutterSize="5">
    <mat-grid-tile *ngFor="let p of product |  paginate: { itemsPerPage: 10, currentPage: p }">
      <div class="row home-page-product-image"  >
        <div class="product-image">
          <img  src="{{p.image}}">
        </div>
        <div class="name-product mt-5">
          <p><b>{{p.name}}</b></p>
        </div>
        <div class="star rating-star">
          <star-rating class="rating" [value]="p.star"  uncheckedcolor="gray" size="20px" [readonly]="false" ></star-rating>
        </div>
        <div class="product-price ">
          <p class="product-price-start">{{formatPrice(p.price)}}đ</p><p><b>{{formatPrice(p.lastprice)}}đ</b></p>
        </div>
        <div class=" button-show">
          <button mat-raised-button color="warn" style="margin-bottom: 20px" (click)="showProductDetails(p.id)" >Chi tiết</button>
        </div>
      </div>
    </mat-grid-tile>
  </mat-grid-list>
</div>
  <div class="page">
    <pagination-controls (pageChange)="p = $event"></pagination-controls>
  </div>
</div>
